<!doctype html>
<html lang="sv">
<meta charset="utf-8" />
<title>Kmom03 | kursen ramverk1</title>

<!-- Mithril HTML Slideshow styles -->
<link href="../css/mithril-slideshow.css" rel="stylesheet" />

<!-- Code formatting using highlight.js -->
<link rel="stylesheet" href="../css/default.css">
<link rel="stylesheet" href="../css/tomorrow.css">
<script src="../js/highlight.pack.js"></script>

<!-- Text formatting using Markdown through showdown.js -->
<script src="../js/showdown.min.js"></script>



<script data-role="slide" data-markdown type="text/html">
# Kursen ramverk1
## Kmom03
### Mikael Roos
</script>



<script data-role="slide" data-markdown type="text/html">
# Agenda

* Förra veckan
* $di
* Uppgiften

</script>



<script data-role="slide" data-markdown type="text/html">
# Minns förra veckan

* MVC
* Solid
* Cohesion / Coupling

</script>



<script data-role="slide" data-markdown type="text/html">
# MVC

* Minns att det finns olika sätt att se på detta designmönster, beroende av sammanhanget.

</script>



<script data-role="slide" data-markdown type="text/html">
# SOLID

* Single responsibility
* Open/Closed
* Liskov substitution
* Interface segregation
* Dependency inversion

</script>



<script data-role="slide" data-markdown type="text/html">
> "Low coupling is often a sign of a well-structured computer system and a good design, and when combined with high cohesion, supports the general goals of high readability and maintainability."

</script>



<script data-role="slide" data-markdown type="text/html">
# Enhetstester

* Små tydliga uppgifter
* Små rena och tydliga klasser
* 100% kodtäckning fullt rimligt

</script>



<script data-role="slide" data-markdown type="text/html">
# Kodkvalitet

* Software metrics
* Titta på make test genererar phploc

</script>



<script data-role="slide" data-markdown type="text/html">
# Kodkvalitet...

* Peek inför kmom05 CI
* Kika på någon Anax modul och kolla vilka verktyg som används för kodkvalitet och vad de säger

</script>



<script data-role="slide" data-markdown type="text/html">
# RTFM om $di

* Symfony
* Laravel
* Phalcon
* Yii

</script>



<script data-role="slide" data-markdown type="text/html">
# Dependency injection
</script>



<script data-role="slide" data-markdown type="text/html">
# Konceptet $di

* Inject dependencies, dependency injection
* Inversion of control (?)
* Service container
* Lazy loading
* Service locator

</script>



<script data-role="slide" data-markdown type="text/html">
# Hur implementerat i Anax?

* Kolla koden
* PHP-FIG rekommendation

</script>



<script data-role="slide" data-markdown type="text/html">
# Konceptet $di

* Åter till terminologin...

</script>



<script data-role="slide" data-markdown type="text/html">
# Dependency injection

* "A technique whereby one object supplies the dependencies of another object".

</script>



<script data-role="slide" data-markdown type="text/html">
# DI förklarat

* A dependency is an object that can be used (a service).
* An injection is the passing of a dependency to a dependent object (a client) that would use it.
* The service is made part of the client's state.

</script>



<script data-role="slide" data-markdown type="text/html">
# Typer av DI

* Constructorn
* Setter-metod
* Interface injection

</script>



<script data-role="slide" data-markdown type="text/html">
# Uppdaterad läsanvisning

* Artikel x 2 av Martin Fowler.

</script>



<script data-role="slide" data-markdown type="text/html">
# Inversion of control

* Grundkonceptet i ett ramverk.
* Vem har kontrollen?
* Vem anropar vem?
* "Don't call us, we call you."

</script>



<script data-role="slide" data-markdown type="text/html">
# Service container

* $di är en container som innehåller ramverkets tjänster.
* Erbjuder access till alla ramverkets tjänster.

</script>



<script data-role="slide" data-markdown type="text/html">
# Lazy loading

* En tjänst kan laddas.
* En tjänst kan aktiveras.
* En tjänst som är laddad är inte aktiverad.
* Konsumera inte minne, processingtid, om det inte behövs.

</script>



<script data-role="slide" data-markdown type="text/html">
# Service locator

* Designmönster
* Jämför med designmönster Registry.
* Ett centralt register.
* Plats där tjänster/objekt kan hämtas.

</script>



<script data-role="slide" data-markdown type="text/html">
# Service container slentrian

* [Microsoft/vscode-python#1999](https://github.com/Microsoft/vscode-python/issues/1999)

</script>



<script data-role="slide" data-markdown type="text/html">
# Summera DI

* Vi har en (global) service container $di där ramverkets tjänster är lazy loaded och tillgängliga.

</script>



<script data-role="slide" data-markdown type="text/html">
# Mer om pattern

* Exempel på pattern, "[Patterns of Enterprise Application Architecture (P of EAA)](https://martinfowler.com/eaaCatalog/index.html)".
* Studera designmönster för att bli en bättre programmerare.

</script>



<script data-role="slide" data-markdown type="text/html">
# Proxy

* anax/proxy
* Ett alternativ till att nå ramverkets tjänster

</script>



<script data-role="slide" data-markdown type="text/html">
# Uppgift kmom03

* Make an application that allows the user to view the observed (in the past 30 days) or forecasted (in the future) daily weather conditions for a given location
* [Dark Sky API](https://darksky.net/dev/docs)
* Send multiple requests concurrently
* Spara i `config/`.
* Använd $di.

</script>



<script data-role="slide" data-markdown type="text/html">
# Tips

* Wrappa cURL i en egen klass.
* Separera i flera modell-klasser.
* Injecta de ramverkstjänster som behövs från kontroller-lagret.
* Lagra konfiguration i `config/`.
* Läs config-filer med $di->get("configuration");
* Separata vyer.

</script>



<script data-role="slide" data-markdown type="text/html">
# Tips...

* Om [API dokumentation](https://rem.dbwebb.se).
* Känner du behovet av att logga saker till fil?
* Känner du behovet av att cacha svar från externa tjänster?

</script>



<script data-role="slide" data-markdown type="text/html">
# Uppgift kmom04

* Paketera egen modul till GitHub.
* Publicera på Packagist.
* Installera med composer.
* Saker att tänka på?

</script>



<script data-role="slide" data-markdown type="text/html">
# Uppgift kmom05

* Bygg egen CI kedja för modulen.

</script>



<script data-role="slide" data-markdown type="text/html">
# Avslutningsvis

* Frågor på det?

</script>



<script data-role="slide" data-markdown type="text/html">
</script>



<!-- include essential js-script -->
<script src="../js/mithril.min.js"></script>
<script src="../js/mithril-slideshow.js"></script>
